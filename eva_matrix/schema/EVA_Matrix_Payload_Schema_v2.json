{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "EVA Matrix Output Payload Schema",
    "description": "Strict specification for psychological signals published to bus:psychological in EVA 8.2.0 Architecture.",
    "type": "object",
    "required": [
        "matrix_state",
        "reflex_directives",
        "timestamp"
    ],
    "properties": {
        "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "ISO 8601 timestamp of the psyche step."
        },
        "matrix_state": {
            "type": "object",
            "required": [
                "axes_9d",
                "emotion_label",
                "momentum"
            ],
            "properties": {
                "emotion_label": {
                    "type": "string"
                },
                "axes_9d": {
                    "type": "object",
                    "properties": {
                        "valence": {
                            "type": "number",
                            "minimum": -1,
                            "maximum": 1
                        },
                        "arousal": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                        },
                        "certainty": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                        },
                        "goal_conduciveness": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                        },
                        "agency": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                        },
                        "temporal": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                        },
                        "perspective": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                        },
                        "intensity": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                        },
                        "stability": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                        }
                    }
                },
                "momentum": {
                    "type": "object",
                    "patternProperties": {
                        ".*": {
                            "type": "number"
                        }
                    }
                }
            }
        },
        "reflex_directives": {
            "type": "object",
            "description": "Biological-cognitive feedback directives (e.g., focus, urgency, inhibit)."
        }
    },
    "additionalProperties": false
}